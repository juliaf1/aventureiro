<div class="boat-journey-reservations-container">
  <h3>Your Boat Reservations</h3>
  <% if @journey_reservations.present? %>
    <h4>Upcoming reservations</h4>
    <% @journey_reservations.each do |boat_reservation| %>
      <div class="boat-journey-reservation-card">
        <div class="card-colour-box"></div>
        <div class="boat-journey-reservation-card-main">
          <h4><%= boat_reservation.boat_journey.boat.name %></h4>
          <div class="boat-journey-reservation-info">
            <ul>
              <li><strong>Captain: </strong><%= boat_reservation.boat_journey.boat.user.first_name %></li>
              <li><strong>Number of passengers: </strong><%= boat_reservation.number_passengers %></li>
              <li><strong>Departure time: </strong> <%= boat_reservation.boat_journey.departure_time.strftime("%d %B %Y, %H:%M") %></li>
              <li><strong>Travel Duration: </strong><%= boat_reservation.boat_journey.travel_duration %></li>
              <li><strong>Total price: </strong><%= "R$#{boat_reservation.total_price}" %></li>
              <li><strong>Status: </strong><%= boat_reservation.status %></li>
            </ul>
          </div>
        </div>
        <div class="btn-center">
          <%= link_to "Cancel", boat_journey_reservation_path(boat_reservation), method: :delete, class: "secondary-btn secondary-btn-sm secondary-btn-pink", data: {confirm: "Are you sure you want to cancel this reservation?"} %>
        </div>
      </div>

    <% end %>

  <% elsif @past_journey_reservations.present? %>
    <h4>Past reservations</h4>
    <% @past_journey_reservations.each do |boat_reservation| %>
      <div class="boat-journey-reservation-card">
        <div class="boat-journey-reservation-card-main">
          <div class="boat-journey-reservation-info">
            <h3>  <%= boat_reservation.boat_journey.boat.name %></h3>
            <p><strong>Captain: </strong><%= boat_reservation.boat_journey.boat.user.first_name %> </p>
            <p><strong>Number of passengers: </strong><%= boat_reservation.number_passengers %></p>
            <p><strong>Departure time: </strong> <%= boat_reservation.boat_journey.departure_time.strftime("%d %B %Y, %H:%M") %></p>
            <p><strong>Travel Duration: </strong><%= boat_reservation.boat_journey.travel_duration %></p>
            <p><strong>Total price: </strong><%= "R$#{boat_reservation.total_price}" %></p>
            <%= link_to "Request this boat again", boat_journeys_path, anchor: boat_reservation.boat_journey.boat %>
          </div>
          <div class="boat-journey-reservation-card-image">
            <% if boat_reservation.boat_journey.boat.photo.attached? %>
              <%= cl_image_tag boat_reservation.boat_journey.boat.photo.key, class: 'avatar-large' %>
            <% else %>
              <img class="boat-image avatar-large" src="https://imgc.allpostersimages.com/img/print/posters/small-fishing-boats-in-the-turquoise-sea-mauritius-indian-ocean-africa_a-G-8747570-4990619.jpg" alt="boat photo">
            <% end %>
          </div>
        </div>
      </div>
    <% end %>

  <% else %>
    <p>Looks like you haven't made any requests yet!
      Let's change that: <%= link_to 'Take a look at boats schedule', boat_journeys_path %></p>
  <% end %>
</div>
